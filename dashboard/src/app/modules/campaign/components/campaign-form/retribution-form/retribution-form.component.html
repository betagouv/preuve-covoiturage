<div class="RetributionForm" [formGroup]="formGroup">
  <h4>
    <span *ngIf="forDriver"> Pour le conducteur</span>
    <span *ngIf="forPassenger"> Pour le(s) passager(s)</span>
    <span *ngIf="forTrip"> Pour le trajet</span>
    <mat-checkbox *ngIf="!forDriver" class="RetributionForm-free" formControlName="free">
      gratuit
    </mat-checkbox>
  </h4>
  <div
    class="RetributionForm-inputs"
    [ngClass]="!forDriver && controls.free.value ? 'RetributionForm-inputs--hidden' : ''"
  >
    <mat-form-field appearance="outline" class="shortFormField">
      <mat-label>Montant</mat-label>
      <input
        matInput
        type="number"
        min="0"
        placeholder="0,1"
        required
        [formControlName]="forDriver ? 'valueForDriver' : 'valueForPassenger'"
      />
      <mat-error *ngIf="true">
        Le montant du mode de rétribution doit être supérieur à 0.
      </mat-error>
    </mat-form-field>
    <span>
      {{ getIncentiveUnitLabel(campaignFormControls.amount_unit.value) }}
    </span>
    <span *ngIf="!forTrip">par trajet</span>
    <mat-checkbox [formControlName]="forDriver ? 'perKmForDriver' : 'perKmForPassenger'">
      par km
    </mat-checkbox>
    <mat-checkbox formControlName="perPassenger" *ngIf="forDriver">par passager</mat-checkbox>
  </div>
</div>
