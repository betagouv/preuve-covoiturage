<div class="stats">
  <div class="stats-header" *ngIf="hideStats">Les statistiques ne sont pas disponibles actuellement.</div>
  <ng-container *ngIf="!hideStats">
    <div class="stats-header">
      <h1>Statistiques</h1>

      <!-- Disclaimer -->
      <div class="stats-disclaimer">
        <p>
          Ces données sont collectées à partir des informations communiquées par les
          <a target="_blank" rel="noopener noreferrer" href="http://covoiturage.beta.gouv.fr/#operateurs"
            >opérateurs partenaires</a
          >.<br />Il s'agit d'une représentation de l'activité du registre de preuve de covoiturage. En outre il ne
          saurait s'agir&nbsp;:
        </p>
        <ul>
          <li>d'une représentation exhaustive du covoiturage en France&nbsp;;</li>
          <li>d'un outil permettant le calcul de part de marché d'un acteur du covoiturage.</li>
        </ul>
      </div>
      <h4 class="subtitle has-text-centered">Calculs</h4>

      <div class="has-text-centered padding-fat-bottom">
        <a target="_blank" rel="noopener noreferrer" href="{{ gitbookLinkStats }}">
          Informations sur les méthodes de calculs utilisées.
        </a>
      </div>
    </div>

    <!-- spinner -->
    <div class="stats--loading" *ngIf="loading && !loaded">
      <mat-spinner></mat-spinner>
    </div>

    <!-- metrics -->
    <div class="stats-numbers" *ngIf="loaded">
      <div *ngFor="let statNumber of statNumbers" class="stats-number">
        <div class="stats-number-icon">
          <mat-icon [svgIcon]="statNumber.svgIcon"></mat-icon>
        </div>
        <div class="stats-number-content">
          <div class="stats-number-title" [ngSwitch]="statNumber.svgIcon">
            <p *ngSwitchCase="'carpooling'">{{ statNumber.title | number: '1.2' }}</p>
            <p *ngSwitchCase="'co2'">{{ statNumber.title | number: '1.2' }} {{ statNumber.unit }}</p>
            <p *ngSwitchDefault>{{ statNumber.title | number }} {{ statNumber.unit }}</p>
          </div>
          <p class="stats-number-hint">
            {{ statNumber.hint }}
          </p>
        </div>
      </div>
    </div>

    <div class="stats-header">
      <div class="has-text-centered padding-fat-bottom">
        <a
          href="https://www.data.gouv.fr/fr/datasets/trajets-realises-en-covoiturage-registre-de-preuve-de-covoiturage/"
          target="_blank"
          rel="noopener noreferrer"
        >
          Retrouvez l'historique des données ouvertes<br />
          sur la plateforme ouverte des données publiques françaises
        </a>
      </div>
    </div>
  </ng-container>

  <!-- honor certificates -->
  <div class="stats-honor">
    <h2>Attestations sur l'honneur</h2>
    <p>
      Le générateur d'attestations sur l'honneur facilite la création d'un document à fournir aux employeurs du secteur
      privé et du secteur public. Chaque création d'un document est enregistrée de façon anonyme.
    </p>
    <p><a href="https://attestation.covoiturage.beta.gouv.fr">https://attestation.covoiturage.beta.gouv.fr</a></p>
    <app-stat-honor></app-stat-honor>
  </div>
</div>
